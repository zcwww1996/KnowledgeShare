[TOC]

# 1. 数仓分层
## 1.1 为什么分层：
1) 复杂问题简单化，每层完成一个流程，方便血缘追踪，快速定位问题
2) 减少重复开发，通过中间层，增加复用性，提高每次计算的效率，降低成本
3) 数据分层隔离，分层加密，分层脱敏，分层配置权限，安全性提高
4) 隔离原始数据，将统计数据和原始数据隔离开

## 1.2 如何分层：
- Ods层：存放原始数据
- Dwd层：数据清洗（去空，脏数据，不合理数据），维度退化，脱敏等
- Dws层：以dwd为基础，按天进行轻度汇总
- Dwt层：以dws为基础，按主题（维度）进行汇总
- Ads层：以dwt，dws为基础，为报表提供数据

[![DW分层](https://www.helloimg.com/images/2021/04/09/BDwA4K.png)](https://www.z4a.net/images/2021/04/09/_20210409095729.png)

## 1.3 怎么样的数仓才是好数仓：

- 宏观上
  - 万能对接业务的的数仓是好数仓
  - 可以满足所用应用的数仓是好数仓
  - 可以作为行业标准的数仓是好数仓
- 
  - 业务上
  - 数据可管理、可追溯、可复用，令数据质量提高

如何搭建一个好数仓

1) 保证数据产出稳定且有保障
2) 数据干净且质量高
3 数据的丰富性（比如多个数据汇集，我只有一个业务库，没有必要使用数仓）
4) 数据的构成要清洗透明（也就是数据分层，每层数据是什么，要怎么处理，要明确）
5) 扩展性要好，这是大数据集群的优点

## 1.4 数仓的命名规范

[![数仓的命名规范.png](https://p.pstatp.com/origin/pgc-image/caca700839384e90bf09711014981fde)](https://www.z4a.net/images/2021/04/13/imagecc27fd5436e7b335.png)